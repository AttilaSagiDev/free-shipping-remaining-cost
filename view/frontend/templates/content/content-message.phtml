<?php
/**
 * Copyright (c) 2024 Attila Sagi
 * @license http://www.opensource.org/licenses/mit-license.html  MIT License
 */

/**
 * @var $block \Magento\Framework\View\Element\Template
 * @var $viewModel \Space\FreeShippingRemainingCost\ViewModel\ContentMessage
 * @var $escaper \Magento\Framework\Escaper
 */

$viewModel = $block->getData('view_model');
?>
<div class="block block-shipping-remaining-cost-message"
     data-bind="scope: 'shippingRemainingCost'"
     data-role="shipping-remaining-cost-message">
    <div class="block-content">
        <!-- ko if: getRemainingMessage() -->
            <span data-bind="html: getRemainingMessage()"></span>
        <!-- /ko -->
        <!-- ko ifnot: getRemainingMessage() -->
            <span><?= $escaper->escapeHtml($viewModel->getBaseMessage(), ['span']) ?></span>
        <!-- /ko -->
    </div>
</div>
<script type="text/x-magento-init">
{
    "[data-role=shipping-remaining-cost-message]": {
        "Magento_Ui/js/core/app": <?= /* @noEscape */ $block->getJsLayout() ?>
    }
}
</script>
